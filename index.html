<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Chronometer</title>

  <!-- Google Fonts for fallback -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Montserrat:wght@400;600&display=swap" rel="stylesheet">

  <style>
    /* === Local fonts from fonts/ folder === */
    @font-face {
      font-family: 'Digital-7';
      src: url('fonts/digital-7.ttf') format('truetype');
    }
    @font-face {
      font-family: 'LED-Real';
      src: url('fonts/led-real.ttf') format('truetype');
    }
    @font-face {
      font-family: 'Radioland';
      src: url('fonts/radioland.ttf') format('truetype');
    }
    @font-face {
      font-family: 'SFDigitalReadout-Light';
      src: url('fonts/SFDigitalReadout-Light.ttf') format('truetype');
    }
    @font-face {
      font-family: 'SFDigitalReadout-Medium';
      src: url('fonts/SFDigitalReadout-Medium.ttf') format('truetype');
    }
    @font-face {
      font-family: 'Technology';
      src: url('fonts/Technology.ttf') format('truetype');
    }
    @font-face {
      font-family: 'SansSerifLocal';
      src: url('fonts/Sans Serif.ttf') format('truetype');
    }

    /* === Global styles === */
    body {
      background: black;
      color: white;
      font-family: 'Roboto', sans-serif;
      margin: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      min-height: 100vh;
      padding: 20px;
      text-align: center;
    }

    #recording {
      font-size: 4vw;
      font-weight: bold;
      color: red;
      margin-top: 60px;
      margin-bottom: 20px;
      display: none;
    }

    #time {
      font-size: 20vw;
      margin-top: 80px; /* pushes clock a bit down */
      font-family: 'Roboto', sans-serif;
      line-height: 1;
      letter-spacing: 0.05em;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: clip;
    }

    #podcast-name-display {
      font-size: 3vw;
      margin-top: 20px;
      color: #ccc;
      font-weight: 600;
      display: none;
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
    }

    .column {
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
    }

    .subgrid {
      display: grid;
      grid-template-columns: repeat(2, auto);
      gap: 10px;
    }

    .colors {
      display: grid;
      grid-template-columns: repeat(3, auto);
      gap: 10px;
    }

    button {
      font-size: 1.2em;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      background: #444;
      color: white;
      cursor: pointer;
    }

    button:hover { background: #666; }

    #playStop {
      font-size: 1.6em;
      padding: 15px 30px;
      background: #007bff;
    }

    #podcastInput {
      padding: 10px;
      font-size: 1em;
      border-radius: 8px;
      border: 1px solid #666;
      background: #111;
      color: white;
      text-align: center;
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <div id="recording">RECORDING</div>
  <div id="time">00:00:00</div>
  <div id="podcast-name-display"></div>

  <div class="controls">
    <!-- Column 1: Play/Stop -->
    <div class="column">
      <button id="playStop" onclick="togglePlay()">Play</button>
    </div>

    <!-- Column 2: Fullscreen, Reset, Font Size -->
    <div class="column">
      <div class="subgrid">
        <button onclick="goFullScreen()">Fullscreen</button>
        <button onclick="reset()">Reset</button>
        <button onclick="bigger()">A+</button>
        <button onclick="smaller()">A-</button>
      </div>
    </div>

    <!-- Column 3: Colors -->
    <div class="column">
      <div class="colors" id="colorButtons">
        <button onclick="setColor('white')">White</button>
        <button onclick="setColor('lime')">Green</button>
        <button onclick="setColor('red')">Red</button>
        <button onclick="setColor('yellow')">Yellow</button>
        <button onclick="setColor('cyan')">Cyan</button>
        <button onclick="setColor('orange')">Orange</button>
      </div>
    </div>

    <!-- Column 4: Fonts & Podcast name -->
    <div class="column">
      <select onchange="changeFont(this.value)">
        <option value="'Roboto', sans-serif">Roboto</option>
        <option value="'Montserrat', sans-serif">Montserrat</option>
        <option value="'Digital-7', 'Roboto', sans-serif">Digital-7</option>
        <option value="'LED-Real', 'Roboto', sans-serif">LED-Real</option>
        <option value="'Radioland', 'Roboto', sans-serif">Radioland</option>
        <option value="'SFDigitalReadout-Light', 'Roboto', sans-serif">SF Readout Light</option>
        <option value="'SFDigitalReadout-Medium', 'Roboto', sans-serif">SF Readout Medium</option>
        <option value="'Technology', 'Roboto', sans-serif">Technology</option>
        <option value="'SansSerifLocal', 'sans-serif'">Sans Serif</option>
      </select>
      <input type="text" id="podcastInput" placeholder="Enter podcast name">
    </div>
  </div>

  <script>
    let timer = null, seconds = 0;
    let fontSize = 20;

    function update() {
      let hrs = String(Math.floor(seconds / 3600)).padStart(2, '0');
      let mins = String(Math.floor((seconds % 3600) / 60)).padStart(2, '0');
      let secs = String(seconds % 60).padStart(2, '0');
      document.getElementById("time").textContent = `${hrs}:${mins}:${secs}`;
    }

    function togglePlay() {
      const btn = document.getElementById("playStop");
      const rec = document.getElementById("recording");
      const colors = document.getElementById("colorButtons");
      const podcastName = document.getElementById("podcast-name-display");
      const input = document.getElementById("podcastInput");

      if (timer) {
        clearInterval(timer);
        timer = null;
        btn.textContent = "Play";
        rec.style.display = "none";
        colors.style.display = "grid";
        podcastName.style.display = "none";
      } else {
        timer = setInterval(() => { seconds++; update(); }, 1000);
        btn.textContent = "Stop";
        rec.style.display = "block";
        colors.style.display = "none";
        podcastName.textContent = input.value;
        if (input.value.trim() !== "") podcastName.style.display = "block";
      }
    }

    function reset() {
      clearInterval(timer);
      timer = null;
      seconds = 0;
      update();
      document.getElementById("playStop").textContent = "Play";
      document.getElementById("recording").style.display = "none";
      document.getElementById("colorButtons").style.display = "grid";
      document.getElementById("podcast-name-display").style.display = "none";
    }

    function setColor(c) {
      document.getElementById("time").style.color = c;
    }

    function changeFont(font) {
      document.getElementById("time").style.fontFamily = font;
    }

    function goFullScreen() {
      let el = document.documentElement;
      if (el.requestFullscreen) el.requestFullscreen();
      else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
      else if (el.msRequestFullscreen) el.msRequestFullscreen();
    }

    function applyClockSizing() {
      const timeEl = document.getElementById("time");
      timeEl.style.fontSize = fontSize + "vw";

      if (fontSize > 25) {
        timeEl.style.letterSpacing = "0em";
        timeEl.style.lineHeight = "0.9";
      } else if (fontSize > 30) {
        timeEl.style.letterSpacing = "-0.05em";
        timeEl.style.lineHeight = "0.85";
      } else {
        timeEl.style.letterSpacing = "0.05em";
        timeEl.style.lineHeight = "1";
      }

      while (timeEl.scrollWidth > window.innerWidth - 10) {
        fontSize -= 1;
        timeEl.style.fontSize = fontSize + "vw";
      }
    }

    function bigger() { fontSize += 5; applyClockSizing(); }
    function smaller() { if (fontSize > 5) { fontSize -= 5; applyClockSizing(); } }

    window.addEventListener("resize", applyClockSizing);

    update();
    applyClockSizing();
  </script>
</body>
</html>
